1. 테스트 주도 개발 과제를 하면서 유의해야할 사항
- 테스트 주도 설계, 테스트 주도 개발의 의미와 과정을 최대한 이해하면서 진행한다.
- 테스트에 의한 프로덕트 설계, 보완을 기반으로 최종적인 프로덕트 및 비즈니스 로직 완성까지 도달한다.

2-1. 기본 요구사항
- `/point` 패키지 (디렉토리) 내에 `PointService` 기본 기능 작성
- `/database` 패키지의 구현체는 수정하지 않고, 이를 활용해 기능을 구현
- 각 기능에 대한 단위 테스트 작성

> 총 4가지 기본 기능 (포인트 조회, 포인트 충전/사용 내역 조회, 충전, 사용) 을 구현합니다.
> 

### `기본과제`

- 포인트 충전, 사용에 대한 정책 추가 (잔고 부족, 최대 잔고 등)
- 주어진 4가지 기능에 대한 단위 테스트 작성

2-2. 요구사항 반영을 위한 구성
[테스트 패키지 구성]
 - 테스트 대상과 의미를 명확히 하기 위해 서비스와 동일한 계층/위계에서 진행한다.
 - unit test와 integration test를 별도의 공간에서 진행하며, unit test 이후 integration test를 진행하여 프로덕트의 품질 향상을 기대한다.

[요구사항에 따른 테스트 설계]
 <br/>가. 포인트 정책 사항 
 <br/>가-1) 충전하거나 사용하는 포인트는 최대 포인트를 초과하지 않아야 하며, 최소 포인트보다 같거나 커야한다(포인트 매개변수는 음수가 될 수 없다). -> UserPoint의 관심사
 <br/>가-2) 최대 포인트 및 최소 포인트는 PointRule에서 상수화하여 관리한다.
 <br/>가-3) empty user는 포인트가 0이며, 이에 대한 경우도 별도 상수화하여 관리한다.
 
 나. 컴포넌트 및 DB등 요소 간 상호작용이 존재한다면 통합 테스트의 범위에서 진행한다.
 <br/>나-1) database의 요소는 repository의 대체재로 간주하되, 이에 대한 의존성을 제거하기 위해 Mokito 활용을 고려한다.
 
 다. 상호작용이 없는 기능 및 단독적인 동작에 대한 테스트는 unit 테스트의 범위에서 진행한다.
 
2-3. 테스트 작성 과정
 <br/>가. 조회기능을 테스트하기 위해 다음과 같은 정보가 필요합니다.
 <br/>가-1) 유저정보가 있다면 특정 유저정보를, 없다면 empty 정보를 반환하고 있습니다.
 <br/>가-2) database의 객체 변경을 최소화 하기 위한 방안을 고려하였습니다.
 <br/>가-3) empty는 유저정보가 존재하지 않을 때 사용하는 dummy 정보(이때 point는 0) 및 point가 없는 사용자에 대한 정보로 간주하였습니다.
 <br/>가-4) 이외 user1(id = 1, point = 100)의 정보를 생성하기 위해 UserPoint와 UserPointTable에 생성이 필요합니다. -> unit test 대상
 <br/>가-5) 충전 및 사용하는 포인트의 유효성 검증은 UserPoint에서 진행하도록 하여 관심사를 분리하였습니다. -> unit test 대상
 
 나. Controller에서 기재한 기본적인 API에 대한 테스트를 설계합니다.
 <br/>나-1) 특정 유저의 포인트를 조회합니다.
 <br/>나-1-1) 매개변수 : id, return : UserPoint
 <br/>나-1-2) UserPointTable에서 조회하며, 정보가 없다면 포인트가 0인 empty 정보를 반환합니다.
 <br/>나-1-3) Database의 컴포넌트와 상호작용이 이루어지므로 통합테스트 범위에서 진행합니다. -> integration test 대상
 
 나-2) 특정 유저의 포인트를 충전합니다.
 <br/>나-2-1) 매개변수 : id, amount, return : UserPoint
 <br/>나-2-2) UserPointTable의 insertOrUpdate 동작은 포인트를 충전 혹은 사용한 후의 정보를 반영하는 것으로 간주하였습니다.
 <br/>나-2-3) 이에 따라, Service 계층에서 포인트 충전 및 사용에 대한 전산처리가 이루어질 것으로 간주하였습니다.
 <br/>나-2-4) UserPoint의 정보에 따라, 사용자 정보가 존재하지 않는다면 Point가 0일 것이며, 포인트 충전 시 신규 유저의 정보르 등록한다는 가정으로 구상하였습니다.
 <br/>나-2-5) Database의 컴포넌트와의 상호작용과 함께, UserPoint의 유효성 검증 및 충전/사용에 대한 과정을 모두 테스트해야 합니다.
 <br/>나-2-6) 전반적인 상호작용, 과정을 통합테스트 범위에서 진행하며, UserPoint의 unit test와 중복하지 않는 테스트를 진행하였습니다. -> integration test 대상
 
 나-3) 특정 유저의 포인트를 사용합니다.
 <br/>나-3-1) 매개변수 : id, amount, return : UserPoint
 <br/>나-3-2) 사용자 정보가 존재하지 않음에도 포인트 사용을 할 경우 예외 동작을 하도록 구상하였습니다.
 <br/>나-3-3) 존재하는 사용자에 대해 사용 후 푀인트 잔액이 0보다 작을 경우 예외 동작을 하도록 구상하였습니다.
 <br/>나-3-4) Database의 컴포넌트와의 상호작용과 함께, UserPoint의 유효성 검증 및 충전/사용에 대한 과정을 모두 테스트해야 합니다.
 <br/>나-3-5) 전반적인 상호작용, 과정을 통합테스트 범위에서 진행하며, UserPoint의 unit test와 중복하지 않는 테스트를 진행하였습니다. -> integration test 대상
 
 나-4) 특정 유저의 포인트 충전/이용 내역을 조회합니다.
 <br/>나-4-1) 매개변수 : id, return List<UserPointHistory>
 <br/>나-4-2) PointHistoryTable에서 조회하며, 초기 데이터를 생성하여 3개의 정보를 추가하였습니다. -> integraiton test 대상
 <br/>나-4-3) 내역조회를 하는 동작에 대한 통합 테스트 범위로 진행하였으며, 포인트 충전 및 사용 동작 트랜잭션에 수반하는 기록 저장에 대한 확인 테스트와는 별개로 간주하였습니다(추가)
 
2-4. 추가로 필요한 테스트 사항
[포인트 충전 및 사용 시 포인트 내역에 기록하는 과정까지 하나의 트랜잭션으로 구성되어야 합니다.]
 - 포인트 충전과 포인트 기록 내역에 대한 확인은 동시에 이루어지는 것이 좋을 것 같습니다. -> integration test 대상
 
2-5. 프로덕트 및 비즈니스 로직에 테스트 사항을 반영